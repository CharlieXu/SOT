# SOT
This is an experimental repository for a C++11 implementation of the surrogate based optimization algorithms given at [https://github.com/dme65/pySOT](https://github.com/dme65/pySOT). SOT is designed for  global deterministic optimization of computationally expensive black-box objective functions with continuous variables where the number of evaluations is limited.

Surrogate optimization algorithms generally consist of four components:

1. The optimization problem: All of the available information about the information problem, e.g., dimensionality, variable types, evaluation method, etc.
2. Surrogate model: Approximates the underlying objective function. Common choices are RBFs, Kriging, MARS, etc.
3. Experimental design: For generating an initial set of points for building the initial surrogate model
4. Adaptive sampling: Method for choosing evaluations after the experimental design has been evaluated.

SOT provides abstract classes that describe how these components should be implemented and the SOT strategies expect the implementations to use these abstract classes as base classes. This is an easy way to guarantee that the necessary functionality exists.

SOT currently supports serial versions of the algorithms given in [1], [2]. Paper [1] introduces the immensely popular stochastic optimization algorithm SRBF. Paper [2] introduces the DYCORS algorithm that is useful for high-dimensional problems.

## Installation

The easiest way to install SOT is using CMake. SOT is a header-only library so no source is being built, but it comes with a set of CMake tests that will be compiled. Installing SOT can be done using the following four steps:

```bash
cmake .
make
make install
make test
```

The first line generates the necessary makefiles and finds all of the SOT dependencies. Armadillo is currently the only SOT dependency and it can be built through most package managers of from the source available at: [http://arma.sourceforge.net](http://arma.sourceforge.net). We recommend that you build Armadillo with a fast BLAS library. CMake should be able to find both the library and the header files once Armadillo has been built. The second line will compile all of the SOT tests. SOT is a header-only library so no .so will be generated by make. The third line will move the header files to include/SOT/, where include is /usr/local/include on most UNIX systems. The fourth line will run all of the compiled SOT tests and they should all pass.

SOT seems to build without any issues on both Ubuntu and OSX. I would appreciate some feedback from Windows users as well.

## Dependencies

SOT currently only depends on the Armadillo library, which should be linked with a fast BLAS library for maximum speed. More information can be found in the Armadillo documentation.

## Examples

The following example code shows how to run SOT with the default methods:

``` cpp

#include <sot.h>
using namespace sot;

int main(int argc, char** argv) {
    int dim = 10;
    int maxeval = 500;
    
    std::shared_ptr<Problem> data(std::make_shared<Ackley>(dim));
    std::shared_ptr<ExpDesign> slhd(std::make_shared<SLHD>(2*(dim+1), dim));
    std::shared_ptr<Surrogate> rbf(std::make_shared<CubicRBF>(maxeval, dim, data->lbound(), data->rbound()));
    std::shared_ptr<Sampling> dycors(std::make_shared<DYCORS<>>(data, rbf, 100*dim, maxeval - slhd->npts()));
    
    Optimizer opt(data, slhd, rbf, dycors, maxeval);
    Result res = opt.run();
} 
```

SOT expects shared pointers for the base class objects that point to implementations of these base classes. Ackley is a popular test problem and Ackley implements the base class Problem. The SLHD (symmetric latin hypercube design) is one of the most popular experimental designs, the Cubic RBF is a very popular surrogate model, and DYCORS is a popular adaptive sampling method. In addition to these four objects SOT only needs to know the evaluation budget in order to run the optimization strategy. The results from the run are returned in a separate result class.

## Next features to be added

* Documentation + comments in code
* Support for evaluating the objective function in synchronous parallel
* More surrogate models
* Support for integer variables
* Support for combining adaptive sampling methods
* Support for ensemble surrogate models
* More CMake tests

## References

[1] Rommel G Regis and Christine A Shoemaker. A stochastic radial basis function method for the global optimization of expensive functions. INFORMS Journal on Computing, 19(4): 497–509, 2007.
[2] Rommel G Regis and Christine A Shoemaker. Combining radial basis function surrogates and dynamic coordinate search in high-dimensional expensive black-box optimization. Engineering Optimization, 45(5): 529–555, 2013.